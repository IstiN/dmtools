{
  "name": "TestCasesGenerator",
  "params": {
    "inputJql": "key in (TP-1309)",
    "testCasesPriorities": "Highest, High, Medium, Lowest, Low",
    "outputType": "creation",
    "existingTestCasesJql": "project = TP and issueType in ('Test', 'Precondition') and status not in (archived)",
    "testCasesRelatedFields": ["issuetype","summary", "description", "priority"],
    "testCasesExampleFields": ["issuetype", "summary", "description", "priority"],
    "testCasesCustomFields": ["xrayGherkin", "xrayDataset", "xrayPreconditions"],
    "customFieldsRules": "Generate Cucumber tests with Gherkin syntax and datasets for data-driven testing.\n\n## Gherkin Format (xrayGherkin field):\n\nUse Scenario Outline with placeholders for parameterized testing:\n\n```gherkin\nScenario Outline: <Descriptive test scenario name>\n  Given <precondition with \"<parameter1>\">\n  When <action with \"<parameter2>\">\n  Then <expected result with \"<parameter3>\">\n  And <additional validation if needed>\n\n  Examples:\n    | parameter1 | parameter2 | parameter3 |\n    | value1     | value2     | value3     |\n    | value4     | value5     | value6     |\n```\n\nImportant Gherkin rules:\n- Use \"Scenario Outline:\" for data-driven tests\n- Wrap parameters in angle brackets: \"<parameter_name>\"\n- Include \"Examples:\" section at the end with parameter table\n- Use descriptive step keywords: Given, When, Then, And, But\n- Keep steps atomic and focused on single actions/validations\n- Use business-readable language, avoid technical implementation details\n\n## Dataset Format (xrayDataset field):\n\nDataset must be a JSON object with \"parameters\" and \"rows\" arrays:\n\n```json\n{\n  \"parameters\": [\n    {\"name\": \"username\", \"type\": \"text\"},\n    {\"name\": \"password\", \"type\": \"text\"},\n    {\"name\": \"result\", \"type\": \"text\"}\n  ],\n  \"rows\": [\n    {\"order\": 0, \"Values\": [\"admin\", \"admin123\", \"success\"]},\n    {\"order\": 1, \"Values\": [\"user\", \"wrongpass\", \"failed\"]},\n    {\"order\": 2, \"Values\": [\"guest\", \"guest456\", \"success\"]}\n  ]\n}\n```\n\nImportant Dataset rules:\n- \"parameters\" array: defines columns with name and type (text, list, number, etc.)\n- Parameter names must match placeholders in Gherkin (without angle brackets)\n- \"rows\" array: defines test data rows\n- Each row must have \"order\" (0-based index) and \"Values\" array\n- \"Values\" array length must match parameters count\n- Values are in the same order as parameters\n- Minimum 2-3 test data variations recommended for good coverage\n- Include positive, negative, and edge cases in rows\n\nExample parameter types:\n- \"text\" - plain text values\n- \"list\" - predefined list of values\n- \"number\" - numeric values\n\n## Complete Example:\n\nGherkin:\n```gherkin\nScenario Outline: User login with different credentials\n  Given user \"<username>\" is registered in the system\n  When user enters username \"<username>\" and password \"<password>\"\n  And user clicks the login button\n  Then login result should be \"<result>\"\n  And user should see \"<message>\"\n\n  Examples:\n    | username | password  | result  | message           |\n    | admin    | admin123  | success | Welcome back!     |\n    | user     | wrongpass | failed  | Invalid password  |\n    | guest    | guest456  | success | Welcome, Guest!   |\n```\n\nDataset:\n```json\n{\n  \"parameters\": [\n    {\"name\": \"username\", \"type\": \"text\"},\n    {\"name\": \"password\", \"type\": \"text\"},\n    {\"name\": \"result\", \"type\": \"text\"},\n    {\"name\": \"message\", \"type\": \"text\"}\n  ],\n  \"rows\": [\n    {\"order\": 0, \"Values\": [\"admin\", \"admin123\", \"success\", \"Welcome back!\"]},\n    {\"order\": 1, \"Values\": [\"user\", \"wrongpass\", \"failed\", \"Invalid password\"]},\n    {\"order\": 2, \"Values\": [\"guest\", \"guest456\", \"success\", \"Welcome, Guest!\"]}\n  ]\n}\n```\n\n## Preconditions Format (xrayPreconditions field):\n\nSame as manual test steps format. Array of precondition references:\n\n1. Existing precondition (string): \"TP-910\"\n2. New precondition (object):\n```json\n{\n  \"key\": \"@precondition-1\",\n  \"summary\": \"User database is initialized\",\n  \"description\": \"System has test users in database\",\n  \"steps\": [\n    {\"action\": \"Ensure test database is running\", \"data\": \"PostgreSQL on localhost:5432\", \"result\": \"Database is accessible\"},\n    {\"action\": \"Run database migration\", \"data\": \"Run: npm run db:migrate\", \"result\": \"All migrations applied\"}\n  ]\n}\n```\n\nPreconditions with the same temporary ID (e.g., @precondition-1) will be created once and reused across all test cases.\n\n## Best Practices:\n\n1. **Scenario Naming**: Use descriptive names that explain the business scenario\n2. **Parameters**: Choose meaningful parameter names (not param1, param2)\n3. **Test Data**: Include diverse test cases:\n   - Happy path (valid data)\n   - Negative cases (invalid data)\n   - Edge cases (boundary values, empty strings, special characters)\n4. **Coverage**: Aim for 3-7 data rows per scenario\n5. **Readability**: Keep Gherkin steps business-readable, not technical\n6. **Consistency**: Use consistent naming between Gherkin and Dataset parameters",
    "confluencePages": ["https://dmtools.atlassian.net/wiki/spaces/AINA/pages/11665495/Template+Test+Case"],
    "relatedTestCasesRules": "https://dmtools.atlassian.net/wiki/spaces/AINA/pages/55443457/Template+Test+Case+Related+Rules",
    "isOverridePromptExamples": true,
    "isFindRelated": true,
    "isConvertToJiraMarkdown": false,
    "includeOtherTicketReferences": true,
    "testCaseLinkRelationship": "relates to",
    "testCaseIssueType": "Test",
    "preprocessJSAction": "agents/js/preprocessXrayCucumberTests.js",
    "examples": "jql(project = TP and issuetype in (\"Test\") and labels = \"ai_cucumber_example\")"
  }
}
