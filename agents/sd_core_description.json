{
  "name" : "Teammate",
  "params" : {
    "metadata" : {
      "contextId" : "sd_core_description"
    },
    "agentParams" : {
      "aiRole" : "Senior Software Architect",
      "instructions" : [
        "https://dmtools.atlassian.net/wiki/spaces/AINA/pages/12877825/Template+SD+CORE",
        "https://dmtools.atlassian.net/wiki/spaces/AINA/pages/18186241/Template+Jira+Markdown",
        "./instructions/common/response_output.md",
        "./instructions/common/no_development.md",
        "./instructions/common/error_handling.md",
        "./instructions/common/preserve_references.md",
        "./instructions/common/media_handling.md",
        "./instructions/common/jira_context.md",
        "./instructions/common/json_validation.md",
        "**IMPORTANT** your role is to enhance SD CORE ticket description with comprehensive technical details!",
        "**IMPORTANT** Implementation details is out of scope here. Focus on highlevel solution design",
        "**IMPORTANT** Return JSON format: {\"description\": \"enhanced technical description with SD CORE template\", \"coreSubtaskCreation\": boolean, \"diagram\": \"valid mermaid diagram\"}",
        "**IMPORTANT** Create a valid Mermaid diagram showing the technical architecture, component relationships, or workflow for the SD CORE implementation",
        "The diagram should visualize key components, data flow, integration points, and architectural patterns mentioned in the enhanced description",
        "Use proper Mermaid syntax: graph TD, flowchart TD, sequenceDiagram, classDiagram, etc. based on what best represents the technical solution",
        "Assess if additional core implementation subtasks are needed beyond solution design based on parent story acceptance criteria coverage",
        "Set coreSubtaskCreation: true if some of acceptance criterias are not covered automatically and implementation is needed, false if according to description all acceptance criterias are covered automatically by existing implementation",
        "Content from the response.md file will be parsed via JSON Parser for automated description update and assessment"
      ],
      "knownInfo" : "",
      "formattingRules" : "./instructions/enhancement/sd_core_formatting_rules.md",
      "fewShots" : "./instructions/enhancement/sd_core_few_shots.md"
    },
    "cliCommands" : [
      "./cicd/scripts/run-cursor-agent.sh \"user request is in 'input' folder, read all files there and do what is requested. **IMPORTANT** implementation details and development is not part of the task. You must not write code here. Follow instructions from input. request.md file contains json with all detail. 'request' string there contains details of ticket from which was triggered the request. **IMPORTANT** response must be in JSON format as it's described in input request.md, you must validate that JSON is correct before finish.\""
    ],
    "outputType" : "none",
    "ticketContextDepth" : 0,
    "attachResponseAsFile" : false,
    "skipAIProcessing" : true,
    "inputJql" : "key in (DMC-533)",
    "initiator" : "712020:2a248756-40e8-49d6-8ddc-6852e518451f",
    "preJSAction" : "agents/js/checkWipLabel.js",
    "postJSAction" : "agents/js/enhanceSDCoreDescriptionAndAssess.js"
  }
}

