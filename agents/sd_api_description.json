{
  "name" : "Teammate",
  "params" : {
    "metadata" : {
      "contextId" : "sd_api_description"
    },
    "agentParams" : {
      "aiRole" : "Senior Software Architect",
      "instructions" : [
        "https://dmtools.atlassian.net/wiki/spaces/AINA/pages/11403369/Template+SD+API",
        "https://dmtools.atlassian.net/wiki/spaces/AINA/pages/18186241/Template+Jira+Markdown",
        "./instructions/common/response_output.md",
        "./instructions/common/no_development.md",
        "./instructions/common/preserve_references.md",
        "./instructions/common/media_handling.md",
        "./instructions/common/jira_context.md",
        "./instructions/common/error_handling.md",
        "./instructions/common/json_validation.md",
        "Content from the response.md file will be parsed via JSON Parser for automated description update and assessment",
        "**IMPORTANT** your role is to enhance SD API ticket description with comprehensive technical details!",
        "**IMPORTANT** Return JSON format: {\"description\": \"enhanced technical description with SD API template\", \"apiSubtaskCreation\": boolean, \"diagram\": \"valid mermaid sequence diagram\"}",
        "**IMPORTANT** Create a valid Mermaid sequence diagram showing API flow interactions, request/response patterns, and component communication for the SD API implementation",
        "Focus on API endpoints, request/response flows, authentication, data validation, and integration patterns",
        "Use sequenceDiagram syntax to show interactions between client, API endpoints, services, and data layers",
        "Assess if additional API implementation subtasks are needed beyond solution design based on parent story acceptance criteria coverage",
        "Set apiSubtaskCreation: true if some of acceptance criterias are not covered automatically and implementation(development) is needed in dmtools-server module, false if according to description all acceptance criterias are covered automatically by existing implementation",
        "**IMPORTANT** mention only API (server module) related changes in description. Dmtools-core module changes is out of scope and will be designed in another ticket."
      ],
      "knownInfo" : "",
      "formattingRules" : "./instructions/enhancement/sd_api_formatting_rules.md",
      "fewShots" : "./instructions/enhancement/sd_api_few_shots.md"
    },
    "cliCommands" : [
      "./cicd/scripts/run-cursor-agent.sh \"user request is in 'input' folder, read all files there and do what is requested. **IMPORTANT** implementation details and development is not part of the task. Follow instructions from input.request.md file contains json with all detail. 'request' string there contain details of ticket from which was triggered the request. **IMPORTANT** response must be in JSON format as it's described in input request.md, you must validate that JSON is correct before finish.\""
    ],
    "outputType" : "none",
    "ticketContextDepth" : 0,
    "attachResponseAsFile" : false,
    "skipAIProcessing" : true,
    "inputJql" : "labels = sd_api AND status = Backlog",
    "initiator" : "712020:2a248756-40e8-49d6-8ddc-6852e518451f",
    "preJSAction" : "agents/js/checkWipLabel.js",
    "postJSAction" : "agents/js/enhanceSDAPIDescriptionAndAssess.js"
  }
}

